/* =========== Theme variables (customize here) =========== */
:root{
  --bg: #f7faf7;
  --panel:#ffffff;
  --text:#0b2a1a;
  --muted:#6b716e;
  --brand: #2f9e44; /* cannabis-friendly green */
  --brand-600: #23823a;
  --accent: #f6e05e;
  --max-width: 1100px;
  --radius: 10px;
  --gap: 1rem;
  --flow: 1.25rem;
  --ff: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  --base-size: 16px;
}

/* =========== Base / Reset =========== */
*,
*::before,
*::after{box-sizing:border-box}
html{font-size:100%}
body{
  margin:0;
  font-family:var(--ff);
  font-size:var(--base-size);
  line-height:1.6;
  color:var(--text);
  background:var(--bg);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Remove default link styles but keep focusable: */
a{color:var(--brand); text-decoration:none}
/* make hover visual also available to keyboard/touch focus */
a:hover, a:focus{text-decoration:underline}

/* Accessibility: visible focus */
:focus{outline:3px solid color-mix(in srgb, var(--brand) 30%, white); outline-offset:2px;}

/* Screen-reader only helper */
.sr-only{
  position: absolute !important;
  width: 1px; height: 1px;
  padding: 0; margin: -1px; overflow: hidden;
  clip: rect(0 0 0 0); white-space: nowrap; border: 0;
}

/* =========== Layout helpers =========== */
.container{
  width:100%;
  max-width:var(--max-width);
  margin:0 auto;
  padding:0 1rem;
}

/* Simple grid */
.grid{display:grid; gap:var(--gap)}
.grid-2{grid-template-columns:repeat(2,1fr)}
.grid-3{grid-template-columns:repeat(3,1fr)}
@media (max-width:900px){
  .grid-2,.grid-3{grid-template-columns:1fr}
}

/* Card */
.card{
  background:var(--panel);
  border-radius:calc(var(--radius) - 2px);
  padding:1.2rem;
  box-shadow:0 6px 18px rgba(15,15,15,0.06);
  color:#2d3e32;
}

.card p,
.card li {
  font-weight: 500;
}

/* Muted text - ensure good contrast on light backgrounds */
.muted{
  color:#5a6c5e;
  font-weight:500;
}

/* =========== Header / Nav =========== */
.site-header{
  background:transparent;
  position:sticky;
  top:0;
  z-index:40;
  backdrop-filter: blur(6px);
}
.site-header .container{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:1rem;
  padding:1rem 0;
}
.logo{font-weight:700; color:var(--brand); font-size:1.15rem}
.logo{display:flex; align-items:center; gap:0.6rem}
.site-logo{width:56px; height:56px; object-fit:cover; border-radius:10px; display:block}
.site-title{font-weight:700; color:var(--brand); font-size:1.05rem}
.nav{display:flex; gap:1rem; align-items:center}
.nav a{padding:0.4rem 0.6rem; border-radius:6px; color:var(--brand)}
.nav a:hover{background:rgba(47,158,68,0.08); color:color-mix(in srgb, var(--brand) 70%, white)}
/* active link */
.nav a.active{background:rgba(47,158,68,0.12); color:color-mix(in srgb, var(--brand) 70%, white); font-weight:700}
/* ensure hover/focus styling for accessibility */
.nav a:hover, .nav a:focus{background:rgba(47,158,68,0.08); color:color-mix(in srgb, var(--brand) 70%, white); outline:none}

/* Mobile nav toggle (simple progressive enhancement) */
.nav-toggle{display:none}
@media (max-width:700px){
  /* Mobile: keep nav present but collapsed so we can animate it (avoid display:none which can't be transitioned) */
  .nav{
    display:flex;
    position:absolute;
    right:1rem;
    top:64px;
    background:var(--panel);
    padding:0.75rem;
    border-radius:8px;
    box-shadow:0 12px 30px rgba(10,10,10,0.08);
    flex-direction:column;
    gap:0.5rem;
    transform-origin: top center;
    transform: scaleY(0);
    opacity: 0;
    pointer-events: none; /* prevent interaction when closed */
    transition: transform 300ms cubic-bezier(.2,.9,.2,1), opacity 220ms ease, box-shadow 220ms ease;
    will-change: transform, opacity;
  }
  /* open state: scale and fade in */
  .nav.open{
    transform: scaleY(1);
    opacity: 1;
    pointer-events: auto;
  }
  .nav-toggle{display:inline-block}
}

/* =========== Hero =========== */
.hero{
  padding:3.5rem 0;
  /* container wrapper uses .hero-inner for layout so keep outer spacing here */
  padding-top:3.5rem;
  padding-bottom:3.5rem;
}
/* layout of the hero content wrapper (two columns: copy + visual) */
.hero-inner{
  display:grid;
  /* Two columns: flexible copy area and a capped visual column.
     Use min() so the visual doesn't grow too large on very wide screens. */
  grid-template-columns: 1fr min(420px, 40%);
  gap:2rem;
  align-items:center;
}
.hero .eye-catch{
  font-size:clamp(1.6rem, 3.8vw, 2.6rem);
  line-height:1.05;
  margin:0 0 0.6rem 0;
}
.hero p{color:#5a6c5e; margin:0; font-weight:500}
.hero-cta{margin-top:1rem; display:flex; gap:0.75rem; align-items:center}

/* Stack on small screens */
@media (max-width:900px){
  .hero-inner{grid-template-columns:1fr}
  .hero .aside{order:2}
}

/* Ensure hero has a comfortable minimum height to avoid content stacking on first paint */
.hero{min-height:56vh}

/* Visual plate: center and make the SVG responsive */
.visual-plate{display:flex; align-items:center; justify-content:center}
.visual-plate svg{width:100%; height:auto; max-width:220px; display:block}

/* Pillars: make cards match heights and keep consistent spacing */
.pillars .grid{align-items:stretch}
.pillars .card{display:flex; flex-direction:column; justify-content:flex-start; height:100%}

/* Newsletter form: responsive inline form that wraps on small screens */
.newsletter-form{display:flex; gap:0.5rem; align-items:center; flex-wrap:wrap}
.newsletter-form input[type="email"]{flex:1; min-width:160px}

/* Slightly reduce hero padding on medium screens for better rhythm */
@media (max-width:1100px){
  .hero{padding-top:2.5rem; padding-bottom:2.5rem}
}

/* Center major page blocks on the homepage for a balanced layout */
.hero-inner{justify-items:center}
.hero-copy{max-width:680px; margin:0 auto; text-align:center}
.pillars .card, .testimonial .card, .newsletter.card{text-align:center}

/* Keep CTAs centered when text is centered */
.hero-cta{justify-content:center}

/* Ensure hero CTAs share identical primary styling and spacing */
.hero-cta a{display:inline-block}
.hero-cta a + a{margin-left:0.75rem}
.hero-cta a.btn-primary{
  /* reinforce primary button appearance within hero (safe against other nav styles) */
  background:linear-gradient(180deg,var(--brand),var(--brand-600));
  color:white;
  box-shadow:0 6px 14px rgba(47,158,68,0.14);
  padding:0.55rem 0.95rem;
  border-radius:8px;
  font-weight:600;
}

/* Simple styles for the mobile nav toggle button */
.nav-toggle{
  background:transparent;
  border:1px solid rgba(0,0,0,0.06);
  padding:0.45rem 0.6rem;
  border-radius:8px;
  font-weight:600;
  cursor:pointer;
  color:var(--text);
}

@media (min-width:701px){
  .nav-toggle{display:none}
}

/* =========== Buttons =========== */
.btn{
  display:inline-block;
  padding:0.55rem 0.95rem;
  border-radius:8px;
  font-weight:600;
  cursor:pointer;
  border:0;
  background:transparent;
  color:var(--text);
  text-align:center;
}
.btn-primary{
  background:linear-gradient(180deg,var(--brand),var(--brand-600));
  color:white;
  box-shadow:0 6px 14px rgba(47,158,68,0.14);
}
.btn-ghost{
  background:transparent;
  border:1px solid rgba(0,0,0,0.06);
}

/* =========== Cards / Product list =========== */
.card-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:1rem}

/* =========== Forms =========== */
label{display:block; font-size:0.95rem; margin-bottom:0.25rem}
input[type="text"],
input[type="email"],
textarea,
select{
  width:100%;
  padding:0.6rem 0.75rem;
  border-radius:8px;
  border:1px solid rgba(10,10,10,0.08);
  background:white;
  font:inherit;
}
textarea{min-height:120px; resize:vertical}
input:focus, textarea:focus{outline:3px solid color-mix(in srgb, var(--brand) 25%, white); outline-offset:2px}

/* =========== Footer =========== */
.site-footer{
  margin-top:3rem;
  padding:2rem 0;
  background:transparent;
  color:#5a6c5e;
  font-size:0.95rem;
  font-weight:500;
}

/* =========== Utility helpers =========== */
.text-center{text-align:center}
.lead{font-size:1.05rem; color:#5a6c5e; font-weight:500}
.kicker{font-weight:600; color:var(--brand)}

/* =========== Small screens =========== */
@media (max-width:480px){
  :root{--gap:0.75rem; --flow:1rem}
  .hero{padding:2rem 0}
}

/* =========== Team Section =========== */
.team .team-member{text-align:center}
.team-photo{
  width:120px;
  height:120px;
  border-radius:50%;
  object-fit:cover;
  margin:0 auto 1rem;
  display:block;
  border:3px solid var(--brand);
}
.team-photo.zoomed{
  object-fit:cover;
  object-position:center top;
  transform:scale(1.1);
  transform-origin:center;
}
.team-member h4{
  margin:0 0 0.25rem 0;
  color:var(--text);
  font-size:1.1rem;
}
.team-title{
  color:var(--brand);
  font-weight:600;
  margin:0 0 0.5rem 0;
  font-size:0.95rem;
}
.team-member > .muted{
  font-size:0.9rem;
  line-height:1.5;
  color:#5a6c5e;
  font-weight:500;
}

/* =========== Education Page Styles =========== */
.education-page{padding:2rem 0}
.hero-small{text-align:center; margin-bottom:2rem}
.education-categories{margin:2rem 0}
.category-card{text-align:center; height:100%}
.category-card h3{margin:0 0 0.5rem 0; font-size:1.2rem}
.category-card .btn{margin-top:1rem}
.education-section{margin:2rem 0}
.education-section h2{margin:0 0 1.5rem 0; color:var(--brand); border-bottom:2px solid var(--brand); padding-bottom:0.5rem}
.topic-grid{display:grid; grid-template-columns:repeat(auto-fit, minmax(280px, 1fr)); gap:1.5rem}
.topic-item h4{color:var(--brand); margin:0 0 0.75rem 0; font-size:1.1rem}
.topic-item ul{list-style:none; padding:0; margin:0}
.topic-item li{margin:0.5rem 0}
.topic-item li a{color:#2d3e32 !important; text-decoration:none; padding:0.25rem 0; display:block; border-left:3px solid transparent; padding-left:0.5rem; transition:all 0.2s ease}
.topic-item li a:hover, .topic-item li a:focus{color:var(--brand) !important; border-left-color:var(--brand); background:rgba(47,158,68,0.05); text-decoration:none}
.content-placeholder{text-align:center; margin:2rem 0; padding:2rem}
.content-placeholder h3{color:var(--brand)}

@media (max-width:900px){
  .topic-grid{grid-template-columns:1fr}
}

/* =========== Education Articles Styles =========== */
.education-article{margin:2rem 0; padding:2rem}
.education-article h2{color:var(--brand); margin:0 0 1rem 0; font-size:1.8rem; border-bottom:3px solid var(--brand); padding-bottom:0.5rem}
.article-meta{display:flex; gap:1rem; margin-bottom:1.5rem; align-items:center}
.badge{background:linear-gradient(180deg,var(--brand),var(--brand-600)); color:white; padding:0.25rem 0.75rem; border-radius:20px; font-size:0.85rem; font-weight:600}
.read-time{color:#4a5a4e; font-size:0.9rem; font-weight:600}
.article-content h3{color:var(--brand); margin:2rem 0 1rem 0; font-size:1.3rem}
.article-content h4{color:var(--text); margin:1.5rem 0 0.75rem 0; font-size:1.1rem}
.article-content ul{margin:0.5rem 0 1.5rem 1.5rem}
.article-content li{margin:0.5rem 0; line-height:1.6}

/* Comparison grids and special layouts */
.comparison-grid{display:grid; grid-template-columns:1fr 1fr; gap:1.5rem; margin:1.5rem 0}
.strain-type{background:rgba(47,158,68,0.03); padding:1.5rem; border-radius:8px; border-left:4px solid var(--brand); color:#2d3e32}
.strain-type h4{margin:0 0 1rem 0; color:var(--brand)}
.strain-type ul{margin:0; padding:0 0 0 1rem}
.strain-type li{color:#2d3e32; font-weight:500}

.landrace-regions{display:grid; gap:1.5rem; margin:1.5rem 0}
.region{background:rgba(47,158,68,0.03); padding:1.5rem; border-radius:8px; border-left:4px solid var(--brand); color:#2d3e32}
.region h4{margin:0 0 1rem 0; color:var(--brand)}
.region ul{margin:0; padding:0 0 0 1rem}
.region li{color:#2d3e32; font-weight:500}

.trichome-types{display:grid; grid-template-columns:repeat(auto-fit, minmax(280px, 1fr)); gap:1.5rem; margin:1.5rem 0}
.trichome-type{background:rgba(47,158,68,0.03); padding:1.5rem; border-radius:8px; border-left:4px solid var(--brand); color:#2d3e32}
.trichome-type h4{margin:0 0 1rem 0; color:var(--brand)}
.trichome-type ul{margin:0; padding:0 0 0 1rem}
.trichome-type li{color:#2d3e32; font-weight:500}

.maturity-stages{display:grid; grid-template-columns:repeat(auto-fit, minmax(250px, 1fr)); gap:1.5rem; margin:1.5rem 0}
.stage{background:rgba(47,158,68,0.03); padding:1.5rem; border-radius:8px; border-left:4px solid var(--brand); color:#2d3e32}
.stage h4{margin:0 0 1rem 0; color:var(--brand)}
.stage ul{margin:0; padding:0 0 0 1rem}
.maturity-stages .stage li{color:#2d3e32; font-weight:500}

/* Unit 2 specific styles */
.storage-conditions{display:grid; grid-template-columns:repeat(auto-fit, minmax(250px, 1fr)); gap:1.5rem; margin:1.5rem 0}
.condition{background:rgba(47,158,68,0.03); padding:1.5rem; border-radius:8px; border-left:4px solid var(--brand); color:#2d3e32}
.condition h4{margin:0 0 1rem 0; color:var(--brand)}
.condition ul{margin:0; padding:0 0 0 1rem}
.condition li{color:#2d3e32; font-weight:500}

.reproduction-process{display:grid; grid-template-columns:1fr 1fr; gap:1.5rem; margin:1.5rem 0}
.process-step{background:rgba(47,158,68,0.03); padding:1.5rem; border-radius:8px; border-left:4px solid var(--brand); color:#2d3e32}
.process-step h4{margin:0 0 1rem 0; color:var(--brand)}
.process-step ul{margin:0; padding:0 0 0 1rem}
.process-step li{color:#2d3e32; font-weight:500}

@media (max-width:900px){
  .comparison-grid{grid-template-columns:1fr}
  .trichome-types{grid-template-columns:1fr}
  .maturity-stages{grid-template-columns:1fr}
  .storage-conditions{grid-template-columns:1fr}
  .reproduction-process{grid-template-columns:1fr}
}

/* =========== Dark mode (optional) =========== */
@media (prefers-color-scheme:dark){
  :root{
    --bg:#08120a; --panel:#0b1410; --text:#eaf3ea; --muted:#bfcfc2;
  }
  
  /* Override ALL dark text colors for dark mode - use wildcard for comprehensive coverage */
  .card, .card *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .equity-concept, .equity-concept *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .equity-definition, .equity-definition *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .imperative-card, .imperative-card *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .factor-card, .factor-card *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .action-card, .action-card *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .warning-category, .warning-category *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .barrier-details, .barrier-details *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .historical-quote, .historical-quote *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .extraction-category, .extraction-category *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .retail-type, .retail-type *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .service-type, .service-type *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .legal-area, .legal-area *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .career-category, .career-category *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .strain-type, .strain-type *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .region, .region *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .trichome-type, .trichome-type *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .stage, .stage *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .condition, .condition *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .process-step, .process-step *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .timeline-event, .timeline-event *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .action-category, .action-category *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .era-introduction, .era-introduction *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .historical-context, .historical-context *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .cultural-note, .cultural-note *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .program-comparison, .program-comparison *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .concept-limitation, .concept-limitation *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .quote-context, .quote-context *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .systemic-challenge, .systemic-challenge *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .concept-strength, .concept-strength *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .topic-item, .topic-item *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .topic-grid, .topic-grid *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  .education-section, .education-section *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  blockquote, blockquote *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(a),
  cite {
    color: #eaf3ea !important;
  }

  /* General link color for dark mode */
  a{color:var(--accent)}

  /* Links within topic navigation - need light text on dark backgrounds */
  .topic-item li a,
  .topic-grid a,
  .education-section a {
    color: #eaf3ea !important;
  }

  /* Remove white backgrounds from these boxes in dark mode */
  .era-introduction,
  .historical-context {
    background: transparent !important;
    color: #eaf3ea !important;
  }
}

/* =========== Touch improvements for coarse pointers (touchscreens) =========== */
@media (any-pointer: coarse), (pointer: coarse) {
  /* increase tappable areas for nav links and buttons */
  .nav a{padding:0.7rem 0.9rem; min-height:44px; display:flex; align-items:center}
  .nav-toggle{padding:0.6rem 0.85rem}
  .btn{padding:0.65rem 1rem; min-height:44px}

  /* make cards easier to tap and reduce accidental gestures */
  .card{touch-action:manipulation; -webkit-tap-highlight-color: rgba(0,0,0,0.06)}

  /* slightly reduce hero gap on small touch devices for better fit */
  .hero-inner{gap:1rem}
}

/* =========== Plant page styles =========== */
.plant-page{padding:2rem 0 3rem}
.plant-hero .stat-grid{display:grid; grid-template-columns:repeat(2,1fr); gap:0.75rem; margin-top:1rem}
.stat-grid strong{display:block; font-weight:700}
.plant-photo{width:100%; height:auto; max-width:320px; border-radius:8px; display:block; margin:0 auto 0.75rem}
.progress{height:12px; background:linear-gradient(180deg, rgba(0,0,0,0.04), rgba(0,0,0,0.02)); border-radius:999px; overflow:hidden; margin-top:0.5rem}
.progress-bar{height:100%; background:linear-gradient(90deg,var(--brand),var(--brand-600)); border-radius:999px; width:0%; transition:width 900ms cubic-bezier(.2,.9,.2,1)}
.progress-meta{font-size:0.9rem; margin-top:0.4rem}
.timeline-list{list-style:none; padding:0; margin:0; display:grid; gap:0.8rem}
.timeline-entry{padding:.75rem; border-radius:8px; background:var(--panel); box-shadow:0 6px 18px rgba(10,10,10,0.03)}
.timeline-entry .timeline-details{margin-top:.6rem}

/* small green condition box shown next to each timeline entry */
.entry-cond{
  display:inline-block;
  background:linear-gradient(180deg,var(--brand),var(--brand-600));
  color:white;
  border-radius:6px;
  padding:0.25rem 0.5rem;
  font-size:0.85rem;
  margin-left:0.6rem;
  cursor:pointer;
  border:0;
}
.entry-cond:hover{ transform: translateY(-2px); box-shadow:0 8px 18px rgba(31,125,51,0.12); }

.timeline-entry time{vertical-align:middle}
.timeline-entry .entry-cond{vertical-align:middle}

/* Modal / Popout styles */
.modal{position:fixed; inset:0; display:flex; align-items:center; justify-content:center; pointer-events:none; opacity:0; transition:opacity 220ms ease; z-index:80}
.modal.open{opacity:1; pointer-events:auto}
.modal-backdrop{position:absolute; inset:0; background:rgba(4,6,4,0.6); backdrop-filter: blur(4px)}
.modal-panel{position:relative; z-index:81; max-width:820px; width:calc(100% - 2rem); display:flex; gap:1rem; align-items:flex-start; padding:1rem}
.modal-panel .modal-photo{width:320px; max-width:40%; border-radius:8px; object-fit:cover}
.modal-panel .modal-title{margin:0 0 .5rem}
.modal-panel .modal-body{color:#4a5a4e; font-weight:500}
.modal-close{position:absolute; right:0.5rem; top:0.5rem; border:0; background:transparent; font-size:1.25rem; cursor:pointer}

/* Animated counter styling */
.days-since{display:inline-block; min-width:2ch; font-weight:700; transition:transform 420ms ease}

.modal-panel{flex-direction:column; align-items:center}
.modal-panel .modal-photo{max-width:100%; width:100%}
.modal-gallery{display:flex; gap:0.5rem; margin-top:0.75rem; flex-wrap:wrap}
.modal-gallery img{width:64px; height:64px; object-fit:cover; border-radius:6px; cursor:pointer; border:2px solid transparent}
.modal-gallery img.selected{border-color:var(--brand)}
@media (max-width:900px){
  .modal-panel{flex-direction:column; align-items:center}
  .modal-panel .modal-photo{max-width:100%; width:100%}
}
.timeline-entry time{display:inline-block; font-weight:700; margin-bottom:0.35rem; background:linear-gradient(180deg,var(--brand),var(--brand-600)); color:white; padding:0.45rem 0.7rem; border-radius:8px; box-shadow:0 6px 18px rgba(47,158,68,0.12); cursor:pointer}
.plant-page .card h2{margin-top:0}

@media (max-width:900px){
  .plant-hero .stat-grid{grid-template-columns:1fr}
}

/* ========= Current Conditions green box + centered modal ========= */
.current-conditions{
  background: linear-gradient(180deg, var(--brand), var(--brand-600));
  color: #fff;
  padding: 1rem;
  border-radius: 14px;
  box-shadow: 0 10px 26px rgba(31,125,51,0.18);
  cursor: pointer;
  transition: transform .18s ease, box-shadow .18s ease, opacity .18s ease;
}
.current-conditions:hover{ transform: translateY(-4px); box-shadow: 0 18px 38px rgba(31,125,51,0.22); }
.current-conditions h4, .current-conditions strong{ color: #e9ffe9; }
.current-conditions .muted{ color: rgba(255,255,255,0.95); }
.current-conditions ul{ margin:0; padding:0; list-style:none }
.current-conditions ul li{ background:transparent; padding:0.2rem 0 }

/* Make the green box compact by default: show only first two stats on the card itself */
.current-conditions ul li{ display:none }
.current-conditions ul li:nth-child(1),
.current-conditions ul li:nth-child(2){ display:block }
.current-conditions .cond-actions{ display:none }

/* centered modal for conditions */
.cond-modal{ 
  display:none; 
  position:fixed; 
  inset:0; 
  align-items:center; 
  justify-content:center; 
  z-index:1200; 
}
.cond-modal.open{ 
  display:flex; 
}
.cond-modal.open,
.cond-modal.open * {
  pointer-events: auto !important;
}

.cond-modal .modal-backdrop{ 
  position:fixed; 
  inset:0; 
  background:rgba(2,4,3,0.6); 
  backdrop-filter: blur(6px); 
  -webkit-backdrop-filter: blur(6px); 
  z-index:1; 
  cursor: pointer;
}

.cond-modal .modal-panel{ 
  width:min(760px,calc(100% - 48px)); 
  max-height:86vh; 
  overflow:auto; 
  border-radius:12px; 
  padding:1rem 1.25rem 1.25rem 1.25rem; 
  background:#0b1410 !important; 
  color:#eaf3ea; 
  box-shadow:0 20px 60px rgba(0,0,0,0.6); 
  position:relative; 
  z-index:1201; 
}

.cond-modal .modal-close{ 
  position:absolute; 
  right:12px; 
  top:10px; 
  background:transparent; 
  border:0; 
  font-size:32px; 
  cursor:pointer; 
  color: #dfffe8 !important; 
  z-index:1202; 
  padding:0.5rem; 
  line-height:1; 
  width: 40px;
  height: 40px;
  pointer-events: auto !important;
  display: block;
}

.cond-modal .modal-close:hover{ 
  color:#fff !important; 
  background: rgba(255,255,255,0.1);
  border-radius: 4px;
}

.cond-modal .modal-content{ z-index:1201; position:relative; }
.cond-modal .current-conditions{ background:transparent; color:#eaf3ea; box-shadow:none; padding:0; border-radius:6px }
.cond-modal .current-conditions h4, 
.cond-modal .current-conditions strong{ color:#dfffe8 !important; }
.cond-modal .current-conditions .muted{ color:#cfe9d8 !important; }
.cond-modal .modal-body, 
.cond-modal .modal-body *:not(button){ color:#eaf3ea !important; }
.cond-modal .modal-title{ color:#dfffe8 !important; }
.cond-modal .modal-body dt{ color:#dfffe8 !important; font-weight:700; }
.cond-modal .modal-body dd{ color:#cfe9d8 !important; }

@media (max-width:700px){
  .cond-modal .modal-panel{ width:calc(100% - 24px); padding:0.75rem }
  .current-conditions{ border-radius:12px }
}

/* History Content Styling */

/* Era Introduction Paragraphs */
.era-introduction {
  font-size: 1.1em;
  line-height: 1.8;
  color: #2d3e32;
  font-style: italic;
  font-weight: 500;
  margin: 1.5rem 0;
  padding: 1.5rem;
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  border-left: 4px solid #8B4513;
  border-radius: 4px;
}

/* Historical Context */
.historical-context {
  background: rgba(139, 69, 19, 0.08);
  padding: 1.25rem;
  border-radius: 6px;
  border-left: 3px solid #8B4513;
  margin: 1.5rem 0;
  font-style: italic;
  color: #2d3e32;
  font-weight: 500;
}

/* Chinese Quotes - Special Styling */
.chinese-quote {
  background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
  color: #f0e68c;
  padding: 2rem;
  border-radius: 8px;
  border: 2px solid #8B4513;
  margin: 2rem 0;
  font-family: Georgia, serif;
  position: relative;
}

.chinese-quote::before {
  content: '「';
  font-size: 3em;
  color: #d4af37;
  position: absolute;
  top: -0.2em;
  left: 0.2em;
  opacity: 0.3;
}

.chinese-quote p {
  margin: 0 0 1rem 0;
  font-size: 1.15em;
  line-height: 1.8;
  text-align: justify;
}

.chinese-quote cite {
  display: block;
  text-align: right;
  color: #d4af37;
  font-size: 0.9em;
  margin-top: 1rem;
}

/* Cultural Notes */
.cultural-note {
  background: #fff8e1;
  border: 2px solid #ffc107;
  padding: 1.5rem;
  border-radius: 8px;
  margin: 2rem 0;
  font-style: italic;
  color: #2d3e32;
  font-weight: 500;
}

/* Scientific Insight */
.scientific-insight {
  background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
  border-left: 4px solid #1976d2;
  padding: 1.5rem;
  border-radius: 6px;
  margin: 1.5rem 0;
  color: #1a237e;
  font-weight: 500;
}

/* Conclusion Paragraphs */
.conclusion {
  font-size: 1.05em;
  line-height: 1.8;
  color: #2c3e50;
  background: #f8f9fa;
  padding: 1.5rem;
  border-radius: 8px;
  border-left: 4px solid var(--brand);
  margin: 1.5rem 0;
}

.ancient-treatments{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:1.5rem;
  margin:2rem 0;
}

.treatment-method{
  padding:1.5rem;
  background:rgba(139,69,19,0.05);
  border-radius:8px;
  border-left:4px solid #8B4513;
}

.treatment-method h4{
  color:#8B4513;
  margin:0 0 1rem 0;
  font-size:1.1rem;
}

.ayurvedic-system{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:1.5rem;
  margin:2rem 0;
}

.dosha{
  padding:1.5rem;
  background:rgba(255,165,0,0.05);
  border-radius:8px;
  border:2px solid rgba(255,165,0,0.2);
}

.dosha h4{
  color:#FF8C00;
  margin:0 0 1rem 0;
  font-size:1.1rem;
}

.chinese-medicine{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:1.5rem;
  margin:2rem 0;
}

.condition-category{
  padding:1.5rem;
  background:rgba(220,20,60,0.05);
  border-radius:8px;
  border-left:4px solid #DC143C;
}

.condition-category h4{
  color:#DC143C;
  margin:0 0 1rem 0;
  font-size:1.1rem;
}

blockquote{
  background:rgba(47,158,68,0.08);
  border-left:4px solid var(--brand);
  padding:1.5rem;
  margin:1.5rem 0;
  font-style:italic;
  border-radius:0 8px 8px 0;
}

/* Cultivation Content Styling */
.cultivation-comparison{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
  gap:2rem;
  margin:2rem 0;
}

.grow-method{
  padding:1.5rem;
  border-radius:8px;
  border-left:4px solid var(--brand);
}

.grow-method:first-child{
  background:rgba(34,139,34,0.05);
  border-left-color:#228B22;
}

.grow-method:last-child{
  background:rgba(255,140,0,0.05);
  border-left-color:#FF8C00;
}

.grow-method h4{
  margin:0 0 1rem 0;
  font-size:1.1rem;
}

.grow-method:first-child h4{
  color:#228B22;
}

.grow-method:last-child h4{
  color:#FF8C00;
}

.indoor-control-factors{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:1.5rem;
  margin:2rem 0;
}

.control-factor{
  padding:1.5rem;
  background:rgba(70,130,180,0.05);
  border-radius:8px;
  border-left:4px solid #4682B4;
}

.control-factor h4{
  color:#4682B4;
  margin:0 0 1rem 0;
  font-size:1.1rem;
}

.propagation-methods{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:1.5rem;
  margin:2rem 0;
}

.propagation-type{
  padding:1.5rem;
  background:rgba(128,0,128,0.05);
  border-radius:8px;
  border-left:4px solid #800080;
}

.propagation-type h4{
  color:#800080;
  margin:0 0 1rem 0;
  font-size:1.1rem;
}

.cultivation-segments{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:1.5rem;
  margin:2rem 0;
}

.cultivation-type{
  padding:1.5rem;
  background:rgba(184,134,11,0.05);
  border-radius:8px;
  border-left:4px solid #B8860B;
}

.cultivation-type h4{
  color:#B8860B;
  margin:0 0 1rem 0;
  font-size:1.1rem;
}

@media (max-width:768px){
  .ancient-treatments{grid-template-columns:1fr}
  .ayurvedic-system{grid-template-columns:1fr}
  .chinese-medicine{grid-template-columns:1fr}
  .cultivation-comparison{grid-template-columns:1fr}
  .indoor-control-factors{grid-template-columns:1fr}
  .propagation-methods{grid-template-columns:1fr}
  .cultivation-segments{grid-template-columns:1fr}
}

/* Business & Industry Styles */
.extraction-methods,
.retail-models,
.real-estate-services,
.legal-specialties,
.career-pathways {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.extraction-category,
.retail-type,
.service-type,
.legal-area,
.career-category {
  background: #f8f9fa;
  padding: 1.5rem;
  border-radius: 8px;
  border-left: 4px solid var(--brand);
  color: #2d3e32;
}

.extraction-category h4,
.retail-type h4,
.service-type h4,
.legal-area h4,
.career-category h4 {
  color: var(--brand);
  margin-top: 0;
  margin-bottom: 1rem;
}

.extraction-category p,
.retail-type p,
.service-type p,
.legal-area p,
.career-category p,
.extraction-category li,
.retail-type li,
.service-type li,
.legal-area li,
.career-category li {
  color: #2d3e32;
  font-weight: 500;
}

.extraction-category ul,
.retail-type ul,
.service-type ul,
.legal-area ul,
.career-category ul {
  margin: 0.5rem 0;
  padding-left: 1.5rem;
}

.extraction-category ul li,
.retail-type ul li,
.service-type ul li,
.legal-area ul li,
.career-category ul li {
  color: #2d3e32 !important;
  font-weight: 500;
}

.extraction-category ul li strong,
.retail-type ul li strong,
.service-type ul li strong,
.legal-area ul li strong,
.career-category ul li strong {
  color: #1a2e1a !important;
  font-weight: 700;
}

.extraction-category p,
.retail-type p,
.service-type p {
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid #dee2e6;
  font-style: italic;
  color: #2d3e32 !important;
  font-weight: 600;
}

.extraction-category p strong,
.retail-type p strong,
.service-type p strong {
  color: #1a2e1a !important;
  font-weight: 700;
}

@media (max-width: 768px) {
  .extraction-methods,
  .retail-models,
  .real-estate-services,
  .legal-specialties,
  .career-pathways {
    grid-template-columns: 1fr;
  }
}

/* Social Equity Content Styles */
.badge-important {
  background: #d32f2f;
  color: white;
}

/* Equity Definition Section */
.equity-definition {
  background: #f8f9fa;
  padding: 2rem;
  border-radius: 8px;
  margin: 2rem 0;
  color: #2d3e32;
}

.equity-definition p,
.equity-definition li {
  font-weight: 500;
}

.equity-comparison {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 2rem;
  margin-top: 1.5rem;
}

.equity-concept {
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  border-left: 4px solid var(--brand);
  color: #2d3e32;
}

.equity-concept h5 {
  color: var(--brand);
  margin-top: 0;
}

.equity-concept p,
.equity-concept li {
  color: #2d3e32 !important;
  font-weight: 500;
}

.concept-limitation {
  margin-top: 1rem;
  padding: 0.75rem;
  background: #fff3cd;
  border-left: 3px solid #ffc107;
  border-radius: 4px;
  color: #856404 !important;
  font-weight: 500;
}

.concept-limitation strong {
  color: #664500 !important;
  font-weight: 700;
}

.concept-strength {
  margin-top: 1rem;
  padding: 0.75rem;
  background: #d4edda;
  border-left: 3px solid var(--brand);
  border-radius: 4px;
  color: #155724 !important;
  font-weight: 500;
}

.concept-strength strong {
  color: #0d3d18 !important;
  font-weight: 700;
}

/* Historical Timeline */
.historical-timeline {
  margin: 2rem 0;
}

.timeline-event {
  background: #f8f9fa;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  border-radius: 8px;
  border-left: 4px solid #d32f2f;
  color: #2d3e32 !important;
}

.timeline-event h5 {
  color: #d32f2f;
  margin-top: 0;
}

.timeline-event p, .timeline-event li {
  color: #2d3e32 !important;
  font-weight: 500;
}

.timeline-event ul {
  color: #2d3e32 !important;
}

.timeline-event ul li {
  color: #2d3e32 !important;
  font-weight: 500;
}

.timeline-event strong {
  color: #1a2e1a !important;
  font-weight: 700;
}

.historical-quote {
  background: white;
  border-left: 4px solid #495057;
  padding: 1.5rem;
  margin: 1rem 0;
  font-style: italic;
  color: #2d3e32;
  font-weight: 500;
}

.historical-quote p {
  margin: 0 0 0.5rem 0;
  font-size: 1.1em;
  line-height: 1.6;
}

.historical-quote cite {
  display: block;
  text-align: right;
  color: #4a5a4e;
  font-size: 0.9em;
  font-weight: 600;
  margin-top: 0.5rem;
}

.quote-context {
  margin-top: 1rem;
  padding: 0.75rem;
  background: #fff3cd;
  border-radius: 4px;
  font-weight: 500;
  color: #856404;
}

/* Statistics Section */
.injustice-statistics {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.stat-card {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 2rem;
  border-radius: 8px;
  text-align: center;
}

.stat-number {
  font-size: 3em;
  font-weight: bold;
  margin-bottom: 0.5rem;
}

.stat-label {
  font-size: 1.1em;
  font-weight: 600;
  margin-bottom: 1rem;
}

.stat-context {
  font-size: 0.9em;
  opacity: 0.9;
}

/* Featured Quotes */
.featured-quote {
  background: linear-gradient(135deg, #2f9e44 0%, #268539 100%);
  color: white;
  padding: 2rem;
  border-radius: 8px;
  margin: 2rem 0;
  font-size: 1.2em;
  line-height: 1.6;
}

.featured-quote p {
  font-style: italic;
  margin: 0 0 1rem 0;
}

.featured-quote cite {
  display: block;
  text-align: right;
  font-size: 0.85em;
  opacity: 0.9;
}

/* Moral Imperatives Section */
.moral-imperatives {
  display: grid;
  gap: 1.5rem;
  margin: 2rem 0;
}

.imperative-card {
  background: #f8f9fa;
  padding: 1.5rem;
  border-radius: 8px;
  border-left: 4px solid var(--brand);
  color: #2d3e32;
}

.imperative-card h5 {
  color: var(--brand);
  margin-top: 0;
}

.imperative-card p,
.imperative-card li {
  font-weight: 500;
}

.imperative-card blockquote {
  background: white;
  border-left: 3px solid var(--brand);
  padding: 1rem;
  margin: 1rem 0;
  font-style: italic;
  color: #2d3e32;
  font-weight: 500;
}

.imperative-card blockquote p {
  margin: 0 0 0.5rem 0;
}

.imperative-card blockquote cite {
  display: block;
  text-align: right;
  color: #4a5a4e;
  font-size: 0.9em;
  font-weight: 600;
}

/* Qualification Factors */
.qualification-factors {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.factor-card {
  background: #f8f9fa;
  padding: 1.5rem;
  border-radius: 8px;
  border-top: 4px solid var(--brand);
  color: #2d3e32;
}

.factor-card h5 {
  color: var(--brand);
  margin-top: 0;
}

.factor-card p,
.factor-card li {
  font-weight: 500;
}

/* Support Mechanisms */
.support-mechanisms {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.mechanism {
  background: #e7f5ff;
  padding: 1.5rem;
  border-radius: 8px;
  border-left: 4px solid #1971c2;
}

.mechanism h4 {
  color: #1971c2;
  margin-top: 0;
}

/* Reflection Quotes */
.reflection-quote {
  background: #fff3cd;
  border-left: 4px solid #ffc107;
  padding: 1.5rem;
  margin: 2rem 0;
  font-style: italic;
}

.reflection-quote p {
  margin: 0 0 0.5rem 0;
  font-size: 1.05em;
}

.reflection-quote cite {
  display: block;
  text-align: right;
  color: #4a5a4e;
  font-size: 0.9em;
  font-weight: 600;
}

/* Equity Benefits */
.equity-benefits {
  display: grid;
  gap: 1.5rem;
  margin: 2rem 0;
}

.benefit-card {
  background: #d4edda;
  padding: 1.5rem;
  border-radius: 8px;
  border-left: 4px solid #28a745;
  color: #155724;
}

.benefit-card h5 {
  color: #28a745;
  margin-top: 0;
}

.benefit-card blockquote {
  background: white;
  border-left: 3px solid #28a745;
  padding: 1rem;
  margin: 1rem 0;
  font-style: italic;
  color: #2d3e32;
  font-weight: 500;
}

.benefit-card blockquote p {
  margin: 0 0 0.5rem 0;
}

.benefit-card blockquote cite {
  display: block;
  text-align: right;
  color: #4a5a4e;
  font-size: 0.9em;
  font-weight: 600;
}

/* Consumer Actions */
.consumer-actions {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.action-card {
  background: #f8f9fa;
  padding: 1.5rem;
  border-radius: 8px;
  border-top: 4px solid var(--brand);
  color: #2d3e32;
}

.action-card h5 {
  color: var(--brand);
  margin-top: 0;
}

.action-card p,
.action-card li {
  font-weight: 500;
}

.action-impact {
  margin-top: 1rem;
  padding: 0.75rem;
  background: #d4edda;
  border-radius: 4px;
  font-weight: 500;
  color: #155724;
}

/* Company Actions */
.company-actions {
  display: grid;
  gap: 1.5rem;
  margin: 2rem 0;
}

.action-category {
  background: #f8f9fa;
  padding: 1.5rem;
  border-radius: 8px;
  border-left: 4px solid var(--brand);
  color: #2d3e32;
}

.action-category h5 {
  color: var(--brand);
  margin-top: 0;
}

.action-category p, .action-category li {
  color: #2d3e32;
  font-weight: 500;
}

.action-category blockquote {
  background: white;
  border-left: 3px solid var(--brand);
  padding: 1rem;
  margin: 1rem 0;
  font-style: italic;
  color: #2d3e32;
  font-weight: 500;
}

.action-category blockquote p {
  margin: 0 0 0.5rem 0;
}

.action-category blockquote cite {
  display: block;
  text-align: right;
  color: #4a5a4e;
  font-size: 0.9em;
  font-weight: 600;
}

/* Call to Action */
.call-to-action-equity {
  background: linear-gradient(135deg, #2f9e44 0%, #268539 100%);
  color: white;
  padding: 2rem;
  border-radius: 8px;
  margin: 2rem 0;
}

.call-to-action-equity h4 {
  color: white;
  margin-top: 0;
}

.call-to-action-equity ul {
  list-style: none;
  padding-left: 0;
}

.call-to-action-equity li {
  padding: 0.5rem 0;
  font-size: 1.05em;
}

/* Final Quote */
.final-quote {
  background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
  color: white;
  padding: 2rem;
  border-radius: 8px;
  margin: 2rem 0;
  font-size: 1.2em;
  text-align: center;
}

.final-quote p {
  font-style: italic;
  margin: 0 0 1rem 0;
}

.final-quote cite {
  display: block;
  font-size: 0.85em;
  opacity: 0.9;
}

/* Program Details (State Programs Article) */
.program-challenges,
.la-program-details,
.program-comparison {
  background: #f8f9fa;
  padding: 1.5rem;
  border-radius: 8px;
  margin: 2rem 0;
}

.program-challenges h5,
.la-program-details h5,
.program-comparison h5 {
  color: #d32f2f;
  margin-top: 0;
}

.program-comparison p {
  margin: 0.5rem 0;
  padding: 0.75rem;
  background: white;
  border-radius: 4px;
  color: #2d3e32;
  font-weight: 500;
}

/* Massachusetts Tracks */
.mass-tracks {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.track-card {
  background: linear-gradient(135deg, #1971c2 0%, #1864ab 100%);
  color: white;
  padding: 1.5rem;
  border-radius: 8px;
}

.track-card h5 {
  color: white;
  margin-top: 0;
  font-size: 1.2em;
}

.track-card ul {
  margin: 0;
}

/* Predatory Warning Section */
.predatory-warning {
  background: #fff3cd;
  border: 2px solid #ffc107;
  padding: 2rem;
  border-radius: 8px;
  margin: 2rem 0;
}

.predatory-warning h5 {
  color: #d32f2f;
  margin-top: 0;
}

.warning-category {
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  border-left: 4px solid #d32f2f;
  color: #2d3e32;
}

.warning-category h6 {
  color: #d32f2f;
  margin-top: 0;
}

.warning-category p,
.warning-category li {
  font-weight: 500;
}

.warning-category blockquote {
  background: #f8f9fa;
  border-left: 3px solid var(--brand);
  padding: 1rem;
  margin: 1rem 0;
  font-style: italic;
}

/* Lessons Learned */
.lessons-learned {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 2rem;
  margin: 2rem 0;
}

.lesson-card {
  padding: 1.5rem;
  border-radius: 8px;
}

.lesson-card:first-child {
  background: #d4edda;
  border-left: 4px solid #28a745;
  color: #155724;
}

.lesson-card:last-child {
  background: #f8d7da;
  border-left: 4px solid #dc3545;
  color: #721c24;
}

.lesson-card h5 {
  margin-top: 0;
}

.lesson-card:first-child h5 {
  color: #28a745;
}

.lesson-card:last-child h5 {
  color: #dc3545;
}

/* Barriers Article Styles */
.central-quote {
  background: #d32f2f;
  color: white;
  padding: 2rem;
  border-radius: 8px;
  margin: 2rem 0;
  font-size: 1.3em;
  text-align: center;
  font-weight: bold;
}

.central-quote p {
  margin: 0 0 0.5rem 0;
}

.central-quote cite {
  display: block;
  font-size: 0.7em;
  opacity: 0.9;
  margin-top: 1rem;
  font-weight: normal;
}

.barrier-details {
  background: #f8f9fa;
  padding: 1.5rem;
  border-radius: 8px;
  margin: 2rem 0;
  border-left: 4px solid #d32f2f;
  color: #2d3e32;
}

.barrier-details h5 {
  color: #d32f2f;
  margin-top: 0;
}

.barrier-details blockquote {
  background: white;
  border-left: 3px solid #d32f2f;
  padding: 1rem;
  margin: 1rem 0;
  font-style: italic;
  color: #2d3e32;
  font-weight: 500;
}

.solutions-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.solution-card {
  background: #d4edda;
  padding: 1.5rem;
  border-radius: 8px;
  border-top: 4px solid #28a745;
  color: #155724;
}

.solution-card h5 {
  color: #28a745;
  margin-top: 0;
}

.systemic-challenge {
  background: #fff3cd;
  border: 3px solid #ffc107;
  padding: 2rem;
  border-radius: 8px;
  margin: 2rem 0;
  color: #856404;
}

.systemic-challenge p:first-child {
  font-weight: bold;
  color: #d32f2f;
  font-size: 1.1em;
  margin-bottom: 1rem;
}

.systemic-challenge p:last-child {
  margin-top: 1.5rem;
  padding: 1rem;
  background: white;
  border-radius: 4px;
  font-weight: 500;
  color: #2d3e32;
}

.comprehensive-support {
  background: linear-gradient(135deg, #28a745 0%, #20873a 100%);
  color: white;
  padding: 2rem;
  border-radius: 8px;
  margin: 2rem 0;
}

.comprehensive-support h5 {
  color: white;
  margin-top: 0;
  font-size: 1.2em;
}

.comprehensive-support ul {
  list-style: none;
  padding-left: 0;
}

.comprehensive-support li {
  padding: 0.5rem 0;
  font-size: 1.05em;
}

.final-barrier-quote {
  background: linear-gradient(135deg, #2f9e44 0%, #268539 100%);
  color: white;
  padding: 2rem;
  border-radius: 8px;
  margin: 2rem 0;
  font-size: 1.2em;
  text-align: center;
}

.final-barrier-quote p {
  font-style: italic;
  margin: 0 0 1rem 0;
}

.final-barrier-quote cite {
  display: block;
  font-size: 0.85em;
  opacity: 0.9;
}

/* Responsive adjustments for social equity content */
@media (max-width: 768px) {
  .equity-comparison,
  .injustice-statistics,
  .qualification-factors,
  .support-mechanisms,
  .consumer-actions,
  .mass-tracks,
  .lessons-learned,
  .solutions-grid {
    grid-template-columns: 1fr;
  }

  .stat-number {
    font-size: 2.5em;
  }

  .featured-quote,
  .final-quote,
  .central-quote,
  .final-barrier-quote {
    font-size: 1em;
  }
}

/* Back to Navigation Button */
.back-to-nav {
  position: fixed;
  bottom: 2rem;
  right: 2rem;
  background: linear-gradient(135deg, var(--brand) 0%, #268539 100%);
  color: white;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 50px;
  font-weight: 600;
  font-size: 0.95rem;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(47, 158, 68, 0.4);
  z-index: 999;
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.3s ease;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

.back-to-nav.visible {
  opacity: 1;
  transform: translateY(0);
}

.back-to-nav:hover {
  background: linear-gradient(135deg, #268539 0%, #1e6b2e 100%);
  box-shadow: 0 6px 16px rgba(47, 158, 68, 0.6);
  transform: translateY(-2px);
}

.back-to-nav:active {
  transform: translateY(0);
}

@media (max-width: 768px) {
  .back-to-nav {
    bottom: 1rem;
    right: 1rem;
    padding: 0.65rem 1.25rem;
    font-size: 0.85rem;
  }
}

/* Education Search */
.education-search {
  margin: 2rem 0;
  padding: 1.5rem;
}

.search-container {
  position: relative;
  max-width: 600px;
  margin: 0 auto;
}

.search-container input {
  width: 100%;
  padding: 1rem 1rem 1rem 3rem;
  font-size: 1rem;
  border: 2px solid #e0e0e0;
  border-radius: 50px;
  outline: none;
  transition: all 0.3s ease;
  background: white;
}

.search-container input:focus {
  border-color: var(--brand);
  box-shadow: 0 0 0 3px rgba(47, 158, 68, 0.1);
}

.search-icon {
  position: absolute;
  left: 1rem;
  top: 50%;
  transform: translateY(-50%);
  color: #6c757d;
  pointer-events: none;
}

.search-results {
  margin-top: 1.5rem;
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
}

.search-results-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #e0e0e0;
}

.search-results-header span {
  font-weight: 600;
  color: var(--brand);
}

.clear-search-btn {
  background: transparent;
  border: 1px solid #e0e0e0;
  padding: 0.4rem 1rem;
  border-radius: 20px;
  cursor: pointer;
  font-size: 0.9rem;
  transition: all 0.2s ease;
}

.clear-search-btn:hover {
  background: #f8f9fa;
  border-color: var(--brand);
  color: var(--brand);
}

#search-results-list {
  display: grid;
  gap: 1rem;
}

.search-result-item {
  background: white;
  padding: 1.25rem;
  border-radius: 8px;
  border-left: 4px solid var(--brand);
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
  transition: all 0.2s ease;
  cursor: pointer;
}

.search-result-item:hover {
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  transform: translateY(-2px);
}

.search-result-item h3 {
  margin: 0 0 0.5rem 0;
  color: #2c3e50;
  font-size: 1.1rem;
}

.search-result-item .badge {
  display: inline-block;
  padding: 0.25rem 0.75rem;
  background: var(--brand);
  color: white;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.search-result-item p {
  margin: 0.5rem 0 0 0;
  color: #6c757d;
  font-size: 0.95rem;
  line-height: 1.5;
}

.search-result-item mark {
  background: #fff3cd;
  padding: 0.1rem 0.2rem;
  border-radius: 2px;
  font-weight: 600;
}

.no-results {
  text-align: center;
  padding: 2rem;
  color: #6c757d;
}

.no-results-icon {
  font-size: 3rem;
  margin-bottom: 1rem;
  opacity: 0.3;
}

@media (max-width: 768px) {
  .education-search {
    padding: 1rem;
  }
  
  .search-container input {
    padding: 0.875rem 0.875rem 0.875rem 2.75rem;
    font-size: 0.95rem;
  }
  
  .search-icon {
    left: 0.875rem;
  }
  
  .search-result-item {
    padding: 1rem;
  }
}

/* =========== Redesigned Plants Page =========== */

.page-header {
  text-align: center;
  margin-bottom: 2.5rem;
  padding: 2rem 0;
}

.page-header h1 {
  margin: 0 0 0.5rem 0;
  font-size: 2.5rem;
  color: var(--text);
}

.page-header .lead {
  color: #5a6c5e;
  max-width: 700px;
  margin: 0 auto;
  font-weight: 500;
}

/* Today's Tasks Dashboard */
.todays-tasks {
  margin-bottom: 2.5rem;
  background: linear-gradient(135deg, #f8f9fa 0%, #e8f5e9 100%); /* Light background */
  border: 2px solid #2f9e44;
  padding: 1.5rem;
  border-radius: 12px;
}

.todays-tasks h2 {
  color: #0b2a1a; /* Dark text on light background */
  margin: 0 0 1.5rem 0;
}

.task-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;
}

.task-section {
  background: white; /* Light background */
  padding: 1.25rem;
  border-radius: 10px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

.task-section h3 {
  color: #0b2a1a; /* Dark text on light background */
}

.task-items {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.task-item {
  padding: 0.75rem;
  background: white; /* White background for better contrast */
  border-radius: 8px;
  border-left: 3px solid #2f9e44;
  transition: all 0.2s ease;
  box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}

.task-item p,
.task-item span {
  margin: 0;
  font-weight: 600;
}

/* Water Due section - Blue/Green colors */
.task-section:nth-child(1) .task-item {
  border-left-color: #1976d2;
}

.task-section:nth-child(1) .task-item .task-plant {
  color: #0d47a1 !important; /* Dark blue */
}

.task-section:nth-child(1) .task-item .task-meta {
  color: #1565c0 !important; /* Medium blue */
}

/* Feeding Due section - Green colors */
.task-section:nth-child(2) .task-item {
  border-left-color: #388e3c;
}

.task-section:nth-child(2) .task-item .task-plant {
  color: #1b5e20 !important; /* Dark green */
}

.task-section:nth-child(2) .task-item .task-meta {
  color: #2e7d32 !important; /* Medium green */
}

.task-item:hover {
  background: #f8f9fa;
  transform: translateX(4px);
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
}

/* Alert items - Red/Orange colors */
.task-item.alert-item {
  border-left-color: #d84315; /* Red-orange border */
  background: white;
  box-shadow: 0 1px 3px rgba(216, 67, 21, 0.1);
}

.task-item.alert-item:hover {
  background: #ffebee; /* Light red tint on hover */
  box-shadow: 0 2px 6px rgba(216, 67, 21, 0.15);
}

.task-item.alert-item .task-plant {
  color: #c62828 !important; /* Deep red for plant names */
}

.task-item.alert-item .task-meta {
  color: #d84315 !important; /* Red-orange for meta text */
}

.task-item.alert-item p,
.task-item.alert-item span {
  color: #d84315 !important; /* Red-orange default */
}

.task-plant {
  display: block;
  font-weight: 700;
  color: #1b5e20 !important; /* Contrasted green */
  margin-bottom: 0.25rem;
}

.task-meta {
  display: block;
  font-size: 0.85rem;
  color: #2e7d32 !important; /* Medium green for meta text */
  font-weight: 500;
}

.task-detail {
  font-size: 0.85rem;
  color: #2e7d32 !important; /* Medium green for detail text */
  margin: 0.25rem 0 0 0;
  font-weight: 500;
}

.task-item.alert-item .task-plant,
.task-item.alert-item .task-meta,
.task-item.alert-item .task-detail {
  color: #e65100 !important; /* Contrasted orange for all alert text */
}

/* Plant Selector Cards */
.plant-selector {
  margin-bottom: 3rem;
}

.plant-selector h2 {
  margin: 0 0 1.5rem 0;
  font-size: 1.5rem;
}

.plant-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.plant-card {
  background: white;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  transition: all 0.3s ease;
  cursor: pointer;
  border: 3px solid transparent;
}

.plant-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(0,0,0,0.12);
}

.plant-card.active {
  border-color: var(--brand);
  box-shadow: 0 8px 24px rgba(47,158,68,0.2);
}

.plant-card-image {
  position: relative;
  width: 100%;
  height: 200px;
  overflow: hidden;
  background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
}

.plant-card-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.plant-status {
  position: absolute;
  top: 0.75rem;
  right: 0.75rem;
  background: rgba(255,255,255,0.95);
  padding: 0.35rem 0.75rem;
  border-radius: 20px;
  font-size: 0.85rem;
  font-weight: 600;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.status-flowering {
  background: rgba(255,245,157,0.95);
  color: #f57c00;
}

.status-veg {
  background: rgba(200,230,201,0.95);
  color: #2e7d32;
}

.status-germination {
  background: rgba(179,229,252,0.95);
  color: #01579b;
  font-weight: 700;
}

.status-seedling {
  background: rgba(200,230,201,0.95);
  color: #1b5e20;
  font-weight: 700;
}

.health-status {
  position: absolute;
  top: 0.75rem;
  left: 0.75rem;
  font-size: 1.5rem;
  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
}

.health-healthy {
  color: #4caf50;
}

.health-watch {
  color: #ff9800;
}

.health-issue {
  color: #f44336;
}

.plant-card-content {
  padding: 1.25rem;
  background: white; /* Light background */
}

.plant-card-content h3 {
  color: #2f9e44; /* Can use brand color as it's dark enough */
  background: linear-gradient(135deg, #2f9e44, #37b34a);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-weight: 700;
  text-shadow: 0 2px 8px rgba(47, 158, 68, 0.3);
  transition: all 0.3s ease;
}

.plant-genetics {
  color: #5a6c5e; /* Dark text on light background */
  font-size: 0.9rem;
}

.plant-quick-stats {
  color: #2d3e32; /* Dark text on light background */
}

/* Care Tracking */
.care-tracking {
  margin: 1rem 0;
  padding: 0.75rem;
  background: #f8f9fa; /* Light background */
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.care-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.85rem;
}

.care-icon {
  font-size: 1rem;
}

.care-tracking .care-label,
.plant-card .care-label,
span.care-label {
  color: #2e7d32 !important; /* Medium green for labels */
  font-weight: 600 !important;
}

.care-tracking .care-value,
.plant-card .care-value,
span.care-value {
  color: #1b5e20 !important; /* Dark green for values */
  font-weight: 600 !important;
  margin-left: auto;
}

/* Quick Actions */
.quick-actions {
  display: flex;
  gap: 0.5rem;
  margin-top: 1rem;
  flex-wrap: wrap;
}

.btn-action {
  flex: 1;
  min-width: fit-content;
  padding: 0.5rem 0.75rem;
  border: none;
  border-radius: 8px;
  font-size: 0.85rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  font-family: inherit;
}

.btn-water {
  background: linear-gradient(135deg, #2196f3, #1976d2);
  color: white;
}

.btn-water:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
}

.btn-feed {
  background: linear-gradient(135deg, #66bb6a, #43a047);
  color: white;
}

.btn-feed:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(102, 187, 106, 0.3);
}

.btn-note {
  background: linear-gradient(135deg, #ffa726, #fb8c00);
  color: white;
}

.btn-note:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(255, 167, 38, 0.3);
}

.plant-card-content h3 {
  margin: 0 0 0.25rem 0;
  font-size: 1.25rem;
  color: #2f9e44;
  background: linear-gradient(135deg, #2f9e44, #37b34a);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-weight: 700;
  text-shadow: 0 2px 8px rgba(47, 158, 68, 0.3);
  transition: all 0.3s ease;
  position: relative;
}

.plant-card:hover .plant-card-content h3 {
  background: linear-gradient(135deg, #37b34a, #2f9e44);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  transform: translateY(-2px);
  filter: brightness(1.2);
}

.plant-genetics {
  color: #5a6c5e;
  font-size: 0.9rem;
  margin: 0 0 1rem 0;
  font-weight: 500;
}

.plant-quick-stats {
  display: flex;
  gap: 0.75rem;
  flex-wrap: wrap;
  margin-bottom: 1rem;
  font-size: 0.875rem;
}

.plant-quick-stats .stat {
  background: #e8f0e9;
  padding: 0.25rem 0.75rem;
  border-radius: 12px;
  color: #2d3e32;
  font-weight: 600;
}

.plant-quick-stats .stat strong {
  color: var(--brand);
}

.plant-card-progress {
  margin-top: 1rem;
}

.progress-label {
  font-size: 0.85rem;
  color: #4a5a4e;
  margin-top: 0.25rem;
  display: block;
  font-weight: 600;
}

/* Empty Plant Card */
.plant-card-empty {
  cursor: default;
  opacity: 0.7;
}

.plant-card-empty:hover {
  transform: none;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

.plant-card-placeholder {
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%);
}

.placeholder-icon {
  font-size: 4rem;
  opacity: 0.3;
}

.btn-sm {
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
}

/* Plant Detail View */
.plant-detail {
  display: none;
  animation: fadeIn 0.4s ease;
}

.plant-detail.active {
  display: block;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Stats Dashboard */
.stats-dashboard {
  margin-bottom: 2rem;
}

.stats-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
}

.stats-header h2 {
  margin: 0;
  font-size: 1.5rem;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 1rem;
}

.stat-card {
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  padding: 1.25rem;
  border-radius: 10px;
  display: flex;
  align-items: center;
  gap: 1rem;
  transition: all 0.3s ease;
  border: 2px solid transparent;
}

.stat-card:hover {
  background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
  border-color: var(--brand);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(47,158,68,0.15);
}

.stat-icon {
  font-size: 2rem;
  line-height: 1;
}

.stat-content {
  flex: 1;
}

.stat-label {
  font-size: 0.85rem;
  color: #2d3e32 !important;
  margin-bottom: 0.25rem;
  font-weight: 600;
}

.stat-value {
  font-size: 1.5rem;
  font-weight: 700;
  color: #0b2a1a !important;
  line-height: 1.2;
}

.stats-dashboard .stat-card,
.stats-dashboard .stat-card * {
  color: #2d3e32 !important;
}

.stats-dashboard .stat-value,
.stats-dashboard .stat-value * {
  color: #0b2a1a !important;
}

/* Growth Stage Indicator */
.growth-stage-indicator {
  margin-bottom: 2rem;
  padding: 1.5rem;
}

.growth-stage-indicator h3 {
  margin: 0 0 1.5rem 0;
  text-align: center;
}

.stage-tracker {
  display: flex;
  align-items: center;
  justify-content: space-between;
  overflow-x: auto;
  padding: 1rem 0;
}

.stage {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
  flex-shrink: 0;
}

.stage-dot {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: #e0e0e0;
  border: 3px solid #e0e0e0;
  transition: all 0.3s ease;
}

.stage.completed .stage-dot {
  background: var(--brand);
  border-color: var(--brand);
  box-shadow: 0 0 0 4px rgba(47,158,68,0.1);
}

.stage.active .stage-dot {
  background: white;
  border-color: var(--brand);
  box-shadow: 0 0 0 4px rgba(47,158,68,0.2);
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% {
    box-shadow: 0 0 0 4px rgba(47,158,68,0.2);
  }
  50% {
    box-shadow: 0 0 0 8px rgba(47,158,68,0.1);
  }
}

.stage-label {
  font-size: 0.8rem;
  color: #4a5a4e;
  white-space: nowrap;
  font-weight: 600;
}

.stage.completed .stage-label,
.stage.active .stage-label {
  color: var(--brand);
  font-weight: 700;
}

.stage-line {
  flex: 1;
  height: 3px;
  background: #e0e0e0;
  margin: 0 0.5rem;
  min-width: 30px;
}

.stage-line.completed {
  background: var(--brand);
}

.stage-line.active {
  background: linear-gradient(to right, var(--brand) 50%, #e0e0e0 50%);
}

/* Timeline Card */
.timeline-card {
  height: fit-content;
}

.timeline-card h2 {
  margin: 0 0 1.5rem 0;
  font-size: 1.35rem;
}

/* Timeline Filters */
.timeline-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
  flex-wrap: wrap;
  gap: 1rem;
}

.timeline-filters {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.filter-btn {
  padding: 0.5rem 1rem;
  border: 2px solid #e0e0e0;
  background: white;
  border-radius: 8px;
  font-size: 0.9rem;
  font-weight: 600;
  color: #4a5a4e;
  cursor: pointer;
  transition: all 0.2s ease;
}

.filter-btn:hover {
  border-color: #2f9e44;
  background: #f1f8f4;
  transform: translateY(-2px);
}

.filter-btn.active {
  border-color: #2f9e44;
  background: linear-gradient(135deg, #2f9e44, #37b34a);
  color: white;
  box-shadow: 0 4px 12px rgba(47, 158, 68, 0.3);
}

/* Action Modal */
.action-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  z-index: 1000;
  align-items: center;
  justify-content: center;
  padding: 1rem;
}

.action-modal.active {
  display: flex;
}

.modal-content {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  max-width: 500px;
  width: 100%;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
  animation: modalSlideIn 0.3s ease;
}

@keyframes modalSlideIn {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.modal-content h2 {
  margin: 0 0 1.5rem 0;
  color: #0b2a1a;
  font-size: 1.5rem;
}

.form-group {
  margin-bottom: 1.25rem;
}

.form-group label {
  display: block;
  margin-bottom: 0.5rem;
  color: #2d3e32;
  font-weight: 600;
  font-size: 0.9rem;
}

.form-group input,
.form-group textarea,
.form-group select {
  width: 100%;
  padding: 0.75rem;
  border: 2px solid #e0e0e0;
  border-radius: 8px;
  font-size: 1rem;
  font-family: inherit;
  transition: border-color 0.2s ease;
  background: white; /* Light background */
  color: #2d3e32; /* Dark text on light background */
}

.form-group input:focus,
.form-group textarea:focus,
.form-group select:focus {
  outline: none;
  border-color: #2f9e44;
  box-shadow: 0 0 0 3px rgba(47, 158, 68, 0.1);
}

.form-group textarea {
  resize: vertical;
  min-height: 100px;
}

.modal-actions {
  display: flex;
  gap: 1rem;
  margin-top: 2rem;
}

.modal-actions button {
  flex: 1;
  padding: 0.75rem;
  border: none;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.btn-save {
  background: linear-gradient(135deg, #2f9e44, #37b34a);
  color: white;
}

.btn-save:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(47, 158, 68, 0.4);
}

.btn-cancel {
  background: #f1f3f5;
  color: #4a5a4e;
}

.btn-cancel:hover {
  background: #e9ecef;
  transform: translateY(-2px);
}

.timeline-entry {
  position: relative;
  padding-left: 2rem;
  padding-bottom: 1.5rem;
  border-left: 2px solid #e0e0e0;
}

.timeline-entry:last-child {
  border-left-color: transparent;
  padding-bottom: 0;
}

.entry-dot {
  position: absolute;
  left: -7px;
  top: 0;
  width: 12px;
  height: 12px;
  background: white;
  border: 3px solid var(--brand);
  border-radius: 50%;
  box-shadow: 0 0 0 4px white;
}

.entry-content time {
  font-size: 0.85rem;
  color: #4a5a4e;
  font-weight: 700;
  display: block;
  margin-bottom: 0.5rem;
}

.entry-content h3 {
  margin: 0 0 0.5rem 0;
  font-size: 1.05rem;
  color: var(--text);
}

.entry-content p {
  margin: 0 0 0.75rem 0;
  font-size: 0.95rem;
  line-height: 1.6;
}

.badge {
  display: inline-block;
  padding: 0.2rem 0.6rem;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 600;
  margin-left: 0.5rem;
}

.badge-success {
  background: #d4edda;
  color: #155724;
}

.badge-info {
  background: #d1ecf1;
  color: #0c5460;
}

.badge-warning {
  background: #fff3cd;
  color: #856404;
}

.badge-primary {
  background: #cce5ff;
  color: #004085;
}

/* Notes Card */
.notes-card {
  height: fit-content;
}

.notes-card h2 {
  margin: 0 0 1.5rem 0;
  font-size: 1.35rem;
}

.quick-info h4 {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.quick-info ul li {
  color: #2d3e32;
  font-weight: 500;
}

.notes-list {
  margin-bottom: 1.5rem;
}

.note-item {
  background: #f8f9fa;
  padding: 1rem;
  border-radius: 8px;
  margin-bottom: 0.75rem;
  border-left: 3px solid var(--brand);
  transition: all 0.2s ease;
}

.note-item:hover {
  background: #e9ecef;
  transform: translateX(4px);
}

.note-date {
  font-size: 0.85rem;
  color: #4a5a4e;
  font-weight: 700;
  margin-bottom: 0.25rem;
}

.note-content {
  font-size: 0.95rem;
  line-height: 1.5;
  color: var(--text);
}

.note-form {
  margin-top: 1.5rem;
  padding-top: 1.5rem;
  border-top: 1px solid #e0e0e0;
}

/* Responsive adjustments */
@media (max-width: 900px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stage-tracker {
    overflow-x: scroll;
    justify-content: flex-start;
  }
}

@media (max-width: 600px) {
  .page-header h1 {
    font-size: 2rem;
  }
  
  .plant-cards {
    grid-template-columns: 1fr;
  }
  
  .stats-grid {
    grid-template-columns: 1fr;
  }
  
  .stats-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 1rem;
  }
  
  .grid-2 {
    grid-template-columns: 1fr;
  }
}

/* =========== UNIVERSAL CONTRAST FIX - All light backgrounds need dark text =========== */
/* This section ensures ALL content boxes with light backgrounds have proper dark text */

/* All light gray background boxes (#f8f9fa, #f5f5f5, white, etc.) */
.card, .card *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.equity-concept, .equity-concept *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.equity-definition, .equity-definition *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.imperative-card, .imperative-card *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.factor-card, .factor-card *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.action-card, .action-card *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.warning-category, .warning-category *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.barrier-details, .barrier-details *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.historical-quote, .historical-quote *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.extraction-category, .extraction-category *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.retail-type, .retail-type *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.service-type, .service-type *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.legal-area, .legal-area *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.career-category, .career-category *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.strain-type, .strain-type *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.region, .region *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.trichome-type, .trichome-type *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.stage, .stage *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.condition, .condition *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.process-step, .process-step *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.timeline-event, .timeline-event *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.action-category, .action-category *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.era-introduction, .era-introduction *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.historical-context, .historical-context *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.cultural-note, .cultural-note *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.program-comparison, .program-comparison *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.topic-item, .topic-item *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.topic-grid, .topic-grid *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.education-section, .education-section *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6) {
  color: #2d3e32 !important;
}

/* Override for care tracking - must come after the general card rule */
.care-tracking .care-label,
.plant-card .care-tracking .care-label,
.card .care-tracking .care-label,
span.care-label {
  color: #2e7d32 !important; /* Medium green for labels */
  font-weight: 600 !important;
}

.care-tracking .care-value,
.plant-card .care-tracking .care-value,
.card .care-tracking .care-value,
span.care-value {
  color: #1b5e20 !important; /* Dark green for values */
  font-weight: 600 !important;
}

/* Quick Care Tips section - better contrast */
.quick-info ul li,
.card .quick-info ul li {
  color: #1b5e20 !important; /* Dark green for readability */
  font-weight: 500 !important;
}

/* ========== DOPAMINE-INDUCING EFFECTS ========== */

/* Success checkmark animation */
@keyframes successPop {
  0% { transform: scale(0) rotate(0deg); opacity: 0; }
  50% { transform: scale(1.2) rotate(10deg); }
  100% { transform: scale(1) rotate(0deg); opacity: 1; }
}

@keyframes successPulse {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.05); opacity: 0.8; }
}

@keyframes slideInUp {
  from { transform: translateY(20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes bounceIn {
  0% { transform: scale(0.3); opacity: 0; }
  50% { transform: scale(1.05); }
  70% { transform: scale(0.9); }
  100% { transform: scale(1); opacity: 1; }
}

@keyframes shimmer {
  0% { background-position: -1000px 0; }
  100% { background-position: 1000px 0; }
}

@keyframes ripple {
  0% { transform: scale(0); opacity: 1; }
  100% { transform: scale(2.5); opacity: 0; }
}

@keyframes confetti {
  0% { transform: translateY(0) rotate(0deg); opacity: 1; }
  100% { transform: translateY(500px) rotate(720deg); opacity: 0; }
}

/* Success notification */
.success-notification {
  position: fixed;
  top: 20px;
  right: 20px;
  background: linear-gradient(135deg, #2f9e44, #37b34a);
  color: white;
  padding: 1rem 1.5rem;
  border-radius: 12px;
  box-shadow: 0 8px 32px rgba(47, 158, 68, 0.4);
  z-index: 10000;
  animation: slideInUp 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  display: flex;
  align-items: center;
  gap: 0.75rem;
  font-weight: 600;
  font-size: 1rem;
}

.success-notification .checkmark {
  font-size: 1.5rem;
  animation: successPop 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.success-notification.fade-out {
  animation: slideInUp 0.3s reverse;
}

/* Button press effect */
.btn-action:active,
.btn-save:active {
  transform: scale(0.95) translateY(-1px);
}

/* Ripple effect container */
.ripple-container {
  position: relative;
  overflow: hidden;
}

.ripple {
  position: absolute;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.6);
  pointer-events: none;
  animation: ripple 0.6s ease-out;
}

/* Task completion effect */
.task-item.completed {
  animation: successPulse 0.5s ease;
  background: linear-gradient(135deg, #e8f5e9, #c8e6c9) !important;
  border-left-color: #4caf50 !important;
}

/* Shimmer effect for highlights */
.shimmer {
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

/* Card hover with lift effect */
.plant-card:hover,
.task-section:hover,
.stat-card:hover {
  transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* Confetti pieces */
.confetti-piece {
  position: fixed;
  width: 10px;
  height: 10px;
  z-index: 9999;
  pointer-events: none;
  animation: confetti 3s ease-out forwards;
}

/* Progress bar fill animation */
.progress-bar {
  transition: width 1s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* Badge pop-in */
.health-status {
  animation: bounceIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* Glow effect for active elements */
@keyframes glow {
  0%, 100% { box-shadow: 0 0 5px rgba(47, 158, 68, 0.5); }
  50% { box-shadow: 0 0 20px rgba(47, 158, 68, 0.8), 0 0 30px rgba(47, 158, 68, 0.6); }
}

.plant-card.active {
  animation: glow 2s ease-in-out infinite;
}

/* Celebration burst */
@keyframes celebrate {
  0% { transform: scale(1); }
  25% { transform: scale(1.1) rotate(-5deg); }
  50% { transform: scale(1.1) rotate(5deg); }
  75% { transform: scale(1.1) rotate(-5deg); }
  100% { transform: scale(1) rotate(0deg); }
}

.celebrating {
  animation: celebrate 0.5s ease;
}

/* Count-up animation for stats */
@keyframes countUp {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.stat-value {
  animation: countUp 0.5s ease;
}

/* Streak effect */
.streak-badge {
  position: relative;
  display: inline-block;
}

.streak-badge::after {
  content: '🔥';
  position: absolute;
  top: -5px;
  right: -5px;
  font-size: 1.2rem;
  animation: successPulse 1s ease infinite;
}

/* Yellow/warning background boxes (#fff3cd) */
.concept-limitation, .concept-limitation *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.quote-context, .quote-context *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
.systemic-challenge, .systemic-challenge *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6) {
  color: #856404 !important;
}

/* Green background boxes (#d4edda) */
.concept-strength, .concept-strength *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6) {
  color: #155724 !important;
}

/* Red/pink background boxes */
.lesson-card:last-child, .lesson-card:last-child *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6) {
  color: #721c24 !important;
}

/* All blockquotes and citations */
blockquote, blockquote * {
  color: inherit !important;
}

cite {
  color: #4a5a4e !important;
  font-weight: 600 !important;
}

/* Links within topic navigation sections - need dark text on light backgrounds */
.topic-item li a,
.topic-grid a,
.education-section a {
  color: #2d3e32 !important;
}

