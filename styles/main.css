/* =========== Theme variables (customize here) =========== */
:root{
  --bg: #f7faf7;
  --panel:#ffffff;
  --text:#0b2a1a;
  --muted:#6b716e;
  --brand: #2f9e44; /* cannabis-friendly green */
  --brand-600: #23823a;
  --accent: #f6e05e;
  --max-width: 1100px;
  --radius: 10px;
  --gap: 1rem;
  --flow: 1.25rem;
  --ff: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  --base-size: 16px;
}

/* =========== Base / Reset =========== */
*,
*::before,
*::after{box-sizing:border-box}
html{font-size:100%}
body{
  margin:0;
  font-family:var(--ff);
  font-size:var(--base-size);
  line-height:1.6;
  color:var(--text);
  background:var(--bg);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Remove default link styles but keep focusable: */
a{color:var(--brand); text-decoration:none}
/* make hover visual also available to keyboard/touch focus */
a:hover, a:focus{text-decoration:underline}

/* Accessibility: visible focus */
:focus{outline:3px solid color-mix(in srgb, var(--brand) 30%, white); outline-offset:2px;}

/* Screen-reader only helper */
.sr-only{
  position: absolute !important;
  width: 1px; height: 1px;
  padding: 0; margin: -1px; overflow: hidden;
  clip: rect(0 0 0 0); white-space: nowrap; border: 0;
}

/* =========== Layout helpers =========== */
.container{
  width:100%;
  max-width:var(--max-width);
  margin:0 auto;
  padding:0 1rem;
}

/* Simple grid */
.grid{display:grid; gap:var(--gap)}
.grid-2{grid-template-columns:repeat(2,1fr)}
.grid-3{grid-template-columns:repeat(3,1fr)}
@media (max-width:900px){
  .grid-2,.grid-3{grid-template-columns:1fr}
}

/* Card */
.card{
  background:var(--panel);
  border-radius:calc(var(--radius) - 2px);
  padding:1.2rem;
  box-shadow:0 6px 18px rgba(15,15,15,0.06);
}

/* =========== Header / Nav =========== */
.site-header{
  background:transparent;
  position:sticky;
  top:0;
  z-index:40;
  backdrop-filter: blur(6px);
}
.site-header .container{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:1rem;
  padding:1rem 0;
}
.logo{font-weight:700; color:var(--brand); font-size:1.15rem}
.logo{display:flex; align-items:center; gap:0.6rem}
.site-logo{width:56px; height:56px; object-fit:cover; border-radius:10px; display:block}
.site-title{font-weight:700; color:var(--brand); font-size:1.05rem}
.nav{display:flex; gap:1rem; align-items:center}
.nav a{padding:0.4rem 0.6rem; border-radius:6px; color:var(--text)}
.nav a:hover{background:rgba(0,0,0,0.03)}
/* active link */
.nav a.active{background:rgba(0,0,0,0.06); font-weight:700}
/* ensure hover/focus styling for accessibility */
.nav a:hover, .nav a:focus{background:rgba(0,0,0,0.03); outline:none}

/* Mobile nav toggle (simple progressive enhancement) */
.nav-toggle{display:none}
@media (max-width:700px){
  /* Mobile: keep nav present but collapsed so we can animate it (avoid display:none which can't be transitioned) */
  .nav{
    display:flex;
    position:absolute;
    right:1rem;
    top:64px;
    background:var(--panel);
    padding:0.75rem;
    border-radius:8px;
    box-shadow:0 12px 30px rgba(10,10,10,0.08);
    flex-direction:column;
    gap:0.5rem;
    transform-origin: top center;
    transform: scaleY(0);
    opacity: 0;
    pointer-events: none; /* prevent interaction when closed */
    transition: transform 300ms cubic-bezier(.2,.9,.2,1), opacity 220ms ease, box-shadow 220ms ease;
    will-change: transform, opacity;
  }
  /* open state: scale and fade in */
  .nav.open{
    transform: scaleY(1);
    opacity: 1;
    pointer-events: auto;
  }
  .nav-toggle{display:inline-block}
}

/* =========== Hero =========== */
.hero{
  padding:3.5rem 0;
  /* container wrapper uses .hero-inner for layout so keep outer spacing here */
  padding-top:3.5rem;
  padding-bottom:3.5rem;
}
/* layout of the hero content wrapper (two columns: copy + visual) */
.hero-inner{
  display:grid;
  /* Two columns: flexible copy area and a capped visual column.
     Use min() so the visual doesn't grow too large on very wide screens. */
  grid-template-columns: 1fr min(420px, 40%);
  gap:2rem;
  align-items:center;
}
.hero .eye-catch{
  font-size:clamp(1.6rem, 3.8vw, 2.6rem);
  line-height:1.05;
  margin:0 0 0.6rem 0;
}
.hero p{color:var(--muted); margin:0}
.hero-cta{margin-top:1rem; display:flex; gap:0.75rem; align-items:center}

/* Stack on small screens */
@media (max-width:900px){
  .hero-inner{grid-template-columns:1fr}
  .hero .aside{order:2}
}

/* Ensure hero has a comfortable minimum height to avoid content stacking on first paint */
.hero{min-height:56vh}

/* Visual plate: center and make the SVG responsive */
.visual-plate{display:flex; align-items:center; justify-content:center}
.visual-plate svg{width:100%; height:auto; max-width:220px; display:block}

/* Pillars: make cards match heights and keep consistent spacing */
.pillars .grid{align-items:stretch}
.pillars .card{display:flex; flex-direction:column; justify-content:flex-start; height:100%}

/* Newsletter form: responsive inline form that wraps on small screens */
.newsletter-form{display:flex; gap:0.5rem; align-items:center; flex-wrap:wrap}
.newsletter-form input[type="email"]{flex:1; min-width:160px}

/* Slightly reduce hero padding on medium screens for better rhythm */
@media (max-width:1100px){
  .hero{padding-top:2.5rem; padding-bottom:2.5rem}
}

/* Center major page blocks on the homepage for a balanced layout */
.hero-inner{justify-items:center}
.hero-copy{max-width:680px; margin:0 auto; text-align:center}
.pillars .card, .testimonial .card, .newsletter.card{text-align:center}

/* Keep CTAs centered when text is centered */
.hero-cta{justify-content:center}

/* Ensure hero CTAs share identical primary styling and spacing */
.hero-cta a{display:inline-block}
.hero-cta a + a{margin-left:0.75rem}
.hero-cta a.btn-primary{
  /* reinforce primary button appearance within hero (safe against other nav styles) */
  background:linear-gradient(180deg,var(--brand),var(--brand-600));
  color:white;
  box-shadow:0 6px 14px rgba(47,158,68,0.14);
  padding:0.55rem 0.95rem;
  border-radius:8px;
  font-weight:600;
}

/* Simple styles for the mobile nav toggle button */
.nav-toggle{
  background:transparent;
  border:1px solid rgba(0,0,0,0.06);
  padding:0.45rem 0.6rem;
  border-radius:8px;
  font-weight:600;
  cursor:pointer;
  color:var(--text);
}

@media (min-width:701px){
  .nav-toggle{display:none}
}

/* =========== Buttons =========== */
.btn{
  display:inline-block;
  padding:0.55rem 0.95rem;
  border-radius:8px;
  font-weight:600;
  cursor:pointer;
  border:0;
  background:transparent;
  color:var(--text);
  text-align:center;
}
.btn-primary{
  background:linear-gradient(180deg,var(--brand),var(--brand-600));
  color:white;
  box-shadow:0 6px 14px rgba(47,158,68,0.14);
}
.btn-ghost{
  background:transparent;
  border:1px solid rgba(0,0,0,0.06);
}

/* =========== Cards / Product list =========== */
.card-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:1rem}

/* =========== Forms =========== */
label{display:block; font-size:0.95rem; margin-bottom:0.25rem}
input[type="text"],
input[type="email"],
textarea,
select{
  width:100%;
  padding:0.6rem 0.75rem;
  border-radius:8px;
  border:1px solid rgba(10,10,10,0.08);
  background:white;
  font:inherit;
}
textarea{min-height:120px; resize:vertical}
input:focus, textarea:focus{outline:3px solid color-mix(in srgb, var(--brand) 25%, white); outline-offset:2px}

/* =========== Footer =========== */
.site-footer{
  margin-top:3rem;
  padding:2rem 0;
  background:transparent;
  color:var(--muted);
  font-size:0.95rem;
}

/* =========== Utility helpers =========== */
.text-center{text-align:center}
.lead{font-size:1.05rem; color:var(--muted)}
.kicker{font-weight:600; color:var(--brand)}

/* =========== Small screens =========== */
@media (max-width:480px){
  :root{--gap:0.75rem; --flow:1rem}
  .hero{padding:2rem 0}
}

/* =========== Dark mode (optional) =========== */
@media (prefers-color-scheme:dark){
  :root{
    --bg:#08120a; --panel:#0b1410; --text:#eaf3ea; --muted:#bfcfc2;
  }
  a{color:var(--accent)}
}

/* =========== Touch improvements for coarse pointers (touchscreens) =========== */
@media (any-pointer: coarse), (pointer: coarse) {
  /* increase tappable areas for nav links and buttons */
  .nav a{padding:0.7rem 0.9rem; min-height:44px; display:flex; align-items:center}
  .nav-toggle{padding:0.6rem 0.85rem}
  .btn{padding:0.65rem 1rem; min-height:44px}

  /* make cards easier to tap and reduce accidental gestures */
  .card{touch-action:manipulation; -webkit-tap-highlight-color: rgba(0,0,0,0.06)}

  /* slightly reduce hero gap on small touch devices for better fit */
  .hero-inner{gap:1rem}
}

/* =========== Plant page styles =========== */
.plant-page{padding:2rem 0 3rem}
.plant-hero .stat-grid{display:grid; grid-template-columns:repeat(2,1fr); gap:0.75rem; margin-top:1rem}
.stat-grid strong{display:block; font-weight:700}
.plant-photo{width:100%; height:auto; max-width:320px; border-radius:8px; display:block; margin:0 auto 0.75rem}
.progress{height:12px; background:linear-gradient(180deg, rgba(0,0,0,0.04), rgba(0,0,0,0.02)); border-radius:999px; overflow:hidden; margin-top:0.5rem}
.progress-bar{height:100%; background:linear-gradient(90deg,var(--brand),var(--brand-600)); border-radius:999px; width:0%; transition:width 900ms cubic-bezier(.2,.9,.2,1)}
.progress-meta{font-size:0.9rem; margin-top:0.4rem}
.timeline-list{list-style:none; padding:0; margin:0; display:grid; gap:0.8rem}
.timeline-entry{padding:.75rem; border-radius:8px; background:var(--panel); box-shadow:0 6px 18px rgba(10,10,10,0.03)}
.timeline-entry .timeline-details{margin-top:.6rem}

/* small green condition box shown next to each timeline entry */
.entry-cond{
  display:inline-block;
  background:linear-gradient(180deg,var(--brand),var(--brand-600));
  color:white;
  border-radius:6px;
  padding:0.25rem 0.5rem;
  font-size:0.85rem;
  margin-left:0.6rem;
  cursor:pointer;
  border:0;
}
.entry-cond:hover{ transform: translateY(-2px); box-shadow:0 8px 18px rgba(31,125,51,0.12); }

.timeline-entry time{vertical-align:middle}
.timeline-entry .entry-cond{vertical-align:middle}

/* Modal / Popout styles */
.modal{position:fixed; inset:0; display:flex; align-items:center; justify-content:center; pointer-events:none; opacity:0; transition:opacity 220ms ease; z-index:80}
.modal.open{opacity:1; pointer-events:auto}
.modal-backdrop{position:absolute; inset:0; background:rgba(4,6,4,0.6); backdrop-filter: blur(4px)}
.modal-panel{position:relative; z-index:81; max-width:820px; width:calc(100% - 2rem); display:flex; gap:1rem; align-items:flex-start; padding:1rem}
.modal-panel .modal-photo{width:320px; max-width:40%; border-radius:8px; object-fit:cover}
.modal-panel .modal-title{margin:0 0 .5rem}
.modal-panel .modal-body{color:var(--muted)}
.modal-close{position:absolute; right:0.5rem; top:0.5rem; border:0; background:transparent; font-size:1.25rem; cursor:pointer}

/* Animated counter styling */
.days-since{display:inline-block; min-width:2ch; font-weight:700; transition:transform 420ms ease}

.modal-panel{flex-direction:column; align-items:center}
.modal-panel .modal-photo{max-width:100%; width:100%}
.modal-gallery{display:flex; gap:0.5rem; margin-top:0.75rem; flex-wrap:wrap}
.modal-gallery img{width:64px; height:64px; object-fit:cover; border-radius:6px; cursor:pointer; border:2px solid transparent}
.modal-gallery img.selected{border-color:var(--brand)}
@media (max-width:900px){
  .modal-panel{flex-direction:column; align-items:center}
  .modal-panel .modal-photo{max-width:100%; width:100%}
}
.timeline-entry time{display:inline-block; font-weight:700; margin-bottom:0.35rem; background:linear-gradient(180deg,var(--brand),var(--brand-600)); color:white; padding:0.45rem 0.7rem; border-radius:8px; box-shadow:0 6px 18px rgba(47,158,68,0.12); cursor:pointer}
.plant-page .card h2{margin-top:0}

@media (max-width:900px){
  .plant-hero .stat-grid{grid-template-columns:1fr}
}

/* ========= Current Conditions green box + centered modal ========= */
.current-conditions{
  background: linear-gradient(180deg, var(--brand), var(--brand-600));
  color: #fff;
  padding: 1rem;
  border-radius: 14px;
  box-shadow: 0 10px 26px rgba(31,125,51,0.18);
  cursor: pointer;
  transition: transform .18s ease, box-shadow .18s ease, opacity .18s ease;
}
.current-conditions:hover{ transform: translateY(-4px); box-shadow: 0 18px 38px rgba(31,125,51,0.22); }
.current-conditions h4, .current-conditions strong{ color: #e9ffe9; }
.current-conditions .muted{ color: rgba(255,255,255,0.95); }
.current-conditions ul{ margin:0; padding:0; list-style:none }
.current-conditions ul li{ background:transparent; padding:0.2rem 0 }

/* Make the green box compact by default: show only first two stats on the card itself */
.current-conditions ul li{ display:none }
.current-conditions ul li:nth-child(1),
.current-conditions ul li:nth-child(2){ display:block }
.current-conditions .cond-actions{ display:none }

/* centered modal for conditions */
.cond-modal{ display:none; position:fixed; inset:0; align-items:center; justify-content:center; z-index:1200; }
.cond-modal.open{ display:flex; }
.cond-modal .modal-panel{ width:min(760px,calc(100% - 48px)); max-height:86vh; overflow:auto; border-radius:12px; padding:1rem 1.25rem; background:#0b1410; color:var(--muted); box-shadow:0 20px 60px rgba(0,0,0,0.6); position:relative }
.cond-modal .modal-close{ position:absolute; right:12px; top:10px; background:transparent; border:0; font-size:22px; cursor:pointer; color: #dfffe8 }
.cond-modal::before{ content:''; position:fixed; inset:0; background:rgba(2,4,3,0.6); backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px); z-index:-1; }
.cond-modal .current-conditions{ background:transparent; color:#eaf3ea; box-shadow:none; padding:0; border-radius:6px }
.cond-modal .current-conditions h4, .cond-modal .current-conditions strong{ color:#dfffe8 }
.cond-modal .current-conditions .muted{ color:#cfe9d8 }

@media (max-width:700px){
  .cond-modal .modal-panel{ width:calc(100% - 24px); padding:0.75rem }
  .current-conditions{ border-radius:12px }
}